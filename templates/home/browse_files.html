{% extends "base.html" %}
{% block content %}
<pre>
    Test Area
</pre>
<div style="border: 1px solid #ccc;"> Location: 
/ <a href="/home/browse_files/{{groupname}}">{{groupname}}</a> /
{% for crumb in crumbs %}
    {% ifnotequal  crumb.name  'None'  %}
        <a href="/home/browse_files/{{groupname}}/?dir={{crumb.path|urlencode }}">{{crumb.name}}</a> 
        {%ifnotequal url_dir ''%}
        /
        {% endifnotequal  %}
    {% endifnotequal  %}
{% endfor %}
</div>
<div>
    <h2>Description for current directory:</h2>
    {% if user.is_authenticated %}
        {{readme_for_current_dir}}
    {% else %}
        This directory has no description.
    {% endif %}
</div>
<div style="color: red">
    TODO: <br/>
    Read first few lines of the latest updated READMEs. Do this recursively. So that we can have a "Latest Updates" section.
</div>
{% if files or directories%}
    <ul>
    {% for directory in directories %}
            <li>
                <ul>
                    <li><a href="/home/browse_files/{{groupname}}/?dir={{directory.path|urlencode }}">[dir] {{ directory.name }}</a></li>
                    <li>Last Modified: {{directory.last_modified}}</li>
                    <li>{{directory.readme}}</li>
                </ul>
            </li>
    {% endfor %}
    </ul>
    <ul>
    {% for file in files %}
            <li>
                <ul>
                    <li><a href="/home/download/{{groupname}}/{{ file.path|urlencode }}">{{ file.name }}</a></li>
                    <li>Size: {{file.size}}</li>
                    <li>Last Modified: {{file.last_modified}}</li>
                    <li>{{file.readme}}</li>
                </ul>
            </li>
    {% endfor %}
    </ul>
    
{% else %}
        No files/directories available.
{% endif %}

{% endblock %}
